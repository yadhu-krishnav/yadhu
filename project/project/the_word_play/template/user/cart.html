<!DOCTYPE html>
<html lang="en">
{%load static%}
  <head>
    <title>The Word Play</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <link rel=" icon" type="x-icon" href="{% static 'images/icon.png'%}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css?family=Oswald:400,700|Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'fonts/icomoon/style.css'%}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css'%}">
    <link rel="stylesheet" href="{% static 'css/animate.css'%}">
    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css'%}">
    <link rel="stylesheet" href="{% static 'css/owl.theme.default.min.css'%}">
    <link rel="stylesheet" href="{% static 'css/bootstrap-datepicker.css'%}">


    <link rel="stylesheet" href="{% static 'fonts/flaticon/font/flaticon.css'%}">

    <link rel="stylesheet" href="{% static 'css/aos.css'%}">
    <link rel="stylesheet" href="{% static 'css/jquery.fancybox.min.css'%}">


    <link rel="stylesheet" href="{% static 'css/style.css'%}">

  </head>
  <body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">

  <div class="site-wrap">

    <div class="site-mobile-menu site-navbar-target">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div> <!-- .site-mobile-menu -->


    <div class="site-navbar-wrap">

      <div class="site-navbar site-navbar-target js-sticky-header">
        <div class="container">
          <div class="row align-items-center">
            <div class="col-6 col-lg-3">
              <h1 class="my-0 site-logo"><a href="#">The Word Play</a></h1>
            </div>
            <div class="col-6 col-lg-9">
              <nav class="site-navigation text-right" role="navigation">
                <div class="container">

                  <div class="d-inline-block d-lg-none ml-md-0 mr-auto py-3 "><a href="#" class="site-menu-toggle js-menu-toggle text-black">
                    <span class="icon-menu h3"></span>
                  </a></div>

                  <ul class="site-menu main-menu js-clone-nav d-none d-lg-block">
                    <li><a href="user_home" class="nav-link">Home</a></li>
                    <li><a href="view_product" class="nav-link">Book</a></li>
                    <li class="nav-link cta cta-colored"><a href="user_wish" class="nav-link"><span class="bi bi-heart-fill"></span></a></li>
                     <li class="nav-item cta cta-colored"><a href="user_profile" class="nav-link"><i class="bi bi-person-circle"></i></a></li>

<li class="nav-link cta cta-colored">
  <a href="#" onclick="confirmBox()" class="nav-link">
    <i class="bi bi-box-arrow-right"></i>
  </a>
</li>                                    </ul>
                </div>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div> <!-- END .site-navbar-wrap -->

<!-- Inline CSS -->
<style>
  .confirm-box {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #f0f0f0;
    border: 1px solid #ccc;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
  }
  .confirm-box button {
    background-color: #4CAF50;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
  }
  .confirm-box button:hover {
    background-color: #3e8e41;
  }
</style>

<!-- Inline JavaScript -->
<script>
  function confirmBox() {
    var confirmBox = document.createElement("div");
    confirmBox.className = "confirm-box";
    confirmBox.innerHTML = `
      <p>Are you sure you want to proceed?</p>
      <button onclick="closeConfirmBox()">Cancel</button>
      <a href="logout"><button>logout</button></a>
    `;
    document.body.appendChild(confirmBox);
  }

  function closeConfirmBox() {
    var confirmBox = document.querySelector(".confirm-box");
    confirmBox.parentNode.removeChild(confirmBox);
  }

  function proceed() {
    alert("You chose to proceed!");
    closeConfirmBox();
  }
</script>

      {% if messages %}
<div class="container" >
<div class="alert alert-warning alert-dismissible messages">
    {% for message in messages %}
    <button type="button" class="close" data-dismiss="alert">&times;</button>
     {{message}}
  </div>
     {% endfor %}
</div>
{% endif %}


    <div class="site-section" >
      <div class="container">
        <div class="row">
          <div class="col-md-6 mb-5">
            <h2 class="text-white serif text-uppercase mb-4">Books are not just collections of pages; they are portals to worlds unknown, whispers of wisdom, and echoes of imagination. Within the bound covers, the beauty of words transforms into the magic of ideas, inviting minds to dance with the extraordinary</h2>
            <br><br>
          </div>
        </div>
      </div>
    </div>

<br>
<div class="site-section navbar navbar-expand-lg navbar-light">
  <div class="container">
    <div class="row">
      <!-- Cart Items Section -->
      <div class="col-xl-9 col-md-8">
        {% for i in Data %}
        <div class="d-sm-flex justify-content-between my-4">
          <div class="media d-block d-sm-flex text-center text-sm-left">
            <i class="cart-item-thumb mx-auto mr-sm-4" style="width: 100px; height: 100px; object-fit: cover;">
              <img src="{{i.product_details.image.url}}" alt="Product" style="width: 100%; height: 100%; object-fit: cover;">
            </i>
            <div class="media-body pt-3">
              <a href="../cart_book_view/{{i.pk}}">
                <h3 class="product-card-title font-weight-semibold border-0 pb-0">{{i.product_details.book_name}}</h3>
              </a>
              <div class="font-size-sm text-dark"><span class="mr-2 text-dark">Category:</span>{{i.product_details.author}}</div>
              <div class="font-size-lg text-primary pt-2">{{i.product_details.price}}</div>
            </div>
          </div>
          <div class="pt-2 pt-sm-0 pl-sm-3 mx-auto mx-sm-0 text-center text-sm-left" style="max-width: 10rem;">
            <div class="form-group mb-2 text-dark">
              <label>Quantity</label>
              <p>{{i.quantity}}</p>
 {% if i.product_details.quantity > 0 %}
    <form method="post" action="{% url 'decrement_quantity' cart_id=i.pk %}">
        {% csrf_token %}
        <button type="submit" class="btn btn-outline-primary">-</button>
    </form>
    <form method="post" action="{% url 'increment_quantity' cart_id=i.pk %}" style="margin-left:60px;margin-top:-38px;">
        {% csrf_token %}
        <button type="submit" class="btn btn-outline-primary">+</button>
    </form>
{% else %}
    <form method="post" action="{% url 'decrement_quantity' cart_id=i.pk %}">
        {% csrf_token %}
        <button type="submit" class="btn btn-outline-primary">-</button>
    </form>
    <button type="button" class="btn btn-outline-primary" style="margin-left:60px;margin-top:-38px;" disabled>+</button>
    <p class="text-danger">No more available stock</p>
{% endif %}


            </div>
            <button class="btn btn-outline-danger btn-sm btn-block mb-2 bg-danger text-white" type="button" onclick="confirmRemove('{{ i.id }}')">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 mr-1">
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                <line x1="10" y1="11" x2="10" y2="17"></line>
                <line x1="14" y1="11" x2="14" y2="17"></line>
              </svg>
              Remove
            </button>
          </div>
        </div>
        {% endfor %}
      </div>

      <!-- Subtotal and Checkout Section -->
      <div class="col-xl-3 col-md-4 pt-3 pt-md-0">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h2 class="h6 text-center-secondary">Subtotal</h2>
          <h4 class="h5 font-weight-semibold text-center-secondary py-3">{{total}}</h4>
        </div>
        <hr>
        <div style="background-color: white; padding: 20px; border-radius: 5px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
          <a href="checkout">
            <button class="btn btn-outline-warning btn-sm btn-block mb-2 bg-warning text-white" type="button">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-credit-card mr-2">
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                <line x1="1" y1="10" x2="23" y2="10"></line>
              </svg>
              Proceed to Checkout
            </button>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Confirm Remove Dialog -->
<div id="confirmRemoveModal" class="confirm-box" style="display: none;">
  <p>Are you sure you want to remove this item from your cart?</p>
  <button onclick="cancelRemove()" class="btn btn-outline-primary">Cancel</button>
  <a id="removeLink" href="#" onclick="proceedRemove()" style="text-decoration: none;">
    <button class="btn btn-danger">Remove</button>
  </a>
</div>

<!-- Required JavaScript files -->
<script>
  function confirmRemove(itemId) {
    var confirmBox = document.getElementById('confirmRemoveModal');
    confirmBox.style.display = 'block';
    var removeLink = document.getElementById('removeLink');
    removeLink.href = "remove/" + itemId;
  }

  function cancelRemove() {
    var confirmBox = document.getElementById('confirmRemoveModal');
    confirmBox.style.display = 'none';
  }

  function proceedRemove() {
    // Handle removal logic if needed
    var confirmBox = document.getElementById('confirmRemoveModal');
    confirmBox.style.display = 'none';
  }
</script>


<!--        item end-->


      </div>
</div>

<!--   Footer-->
<footer class="site-footer">
      <div class="container">
        <div class="row">
          <div class="col-lg-4 mb-5 mb-lg-0">
            <div class="row mb-5">
              <div class="col-12">
                <h3 class="footer-heading mb-4">About Us</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam blanditiis, vero voluptatum distinctio qui. Nostrum quibusdam, dolor unde sunt fugiat.</p>
              </div>
            </div>



          </div>
          <div class="col-lg-3 ml-auto">

            <div class="row mb-5">
              <div class="col-md-12">
                <h3 class="footer-heading mb-4">Navigation</h3>
              </div>
              <div class="col-md-6 col-lg-6">
                <ul class="list-unstyled">
                  <li><a href="#">Home</a></li>
                  <li><a href="#">Book Author</a></li>
                  <li><a href="#">About Us</a></li>
                  <li><a href="#" >Team</a></li>
                </ul>
              </div>

            </div>
          </div>



          <div class="col-lg-4 mb-5 mb-lg-0" id="contact-section">

            <div class="mb-5">
              <h3 class="footer-heading mb-4">Quick Contact</h3>
              <form method="post" class="form-subscribe">
                <div class="form-group mb-3">
                  <input type="text" class="form-control border-white text-white bg-transparent" placeholder="Name" aria-label="Enter Email" aria-describedby="button-addon2">
                </div>
                <div class="form-group mb-3">
                  <input type="text" class="form-control border-white text-white bg-transparent" placeholder="Enter email" aria-label="Enter Email" aria-describedby="button-addon2">
                </div>
                <div class="form-group mb-3">
                  <textarea name="" class="form-control" id="" cols="30" rows="4" placeholder="Your message"></textarea>
                </div>
                <div class="form-group">
                  <button class="btn btn-primary px-5" type="submit">Send Message</button>
                </div>
              </form>

            </div>




          </div>

        </div>
        <div class="row pt-5 mt-5 text-center">
          <div class="col-md-12">
            <div class="mb-4">
                  <a href="#" class="pl-0 pr-3"><span class="icon-facebook"></span></a>
                  <a href="#" class="pl-3 pr-3"><span class="icon-twitter"></span></a>
                  <a href="#" class="pl-3 pr-3"><span class="icon-instagram"></span></a>
                  <a href="#" class="pl-3 pr-3"><span class="icon-linkedin"></span></a>
                </div>
            <p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart text-danger" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank" >Colorlib</a>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
          </div>

        </div>
      </div>
    </footer>
  </div>

  <script src="{% static 'js/jquery-3.3.1.min.js'%}"></script>
  <script src="{% static 'js/popper.min.js'%}"></script>
  <script src="{% static 'js/bootstrap.min.js'%}"></script>
  <script src="{% static 'js/owl.carousel.min.js'%}"></script>
  <script src="{% static 'js/aos.js'%}"></script>
  <script src="{% static 'js/jquery.sticky.js'%}"></script>
  <script src="{% static 'js/stickyfill.min.js'%}"></script>
  <script src="{% static 'js/jquery.easing.1.3.js'%}"></script>
  <script src="{% static 'js/isotope.pkgd.min.js'%}"></script>

  <script src="{% static 'js/jquery.fancybox.min.js'%}"></script>
  <script src="{% static 'js/main.js'%}"></script>


  </body>
</html>